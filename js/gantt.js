routeData = {
    "bbox": [-84.1482036, 35.7085336, -83.521008, 36.211719],
    "crs": {
        "properties": {
            "name": "urn:ogc:def:crs:OGC:1.3:CRS84"
        },
        "type": "name"
    },
    "features": [{
        "geometry": {
            "coordinates": [-84.148204, 35.902887],
            "type": "Point"
        },
        "id": 0,
        "properties": {
            "abs_arrival_time": 1579903200,
            "abs_departure_time": 1579903200,
            "abs_service_time_start": 1579903200,
            "address": "10936 Parkside Dr, Knoxville, TN 37934, United States",
            "appointment": false,
            "arrival_time": "2020-01-24T17:00:00-05:00",
            "color": "#ff0000",
            "departure_time": "2020-01-24T17:00:00-05:00",
            "description": "home",
            "distance_from_prev": 0,
            "distance_to_next": 27743.6,
            "dropoff_position_in_route": -1,
            "end": 1579903200000,
            "id": "route_0_stop_0",
            "idle_time": 0,
            "items_delivered": [],
            "items_picked_up": [],
            "items_replenished": [],
            "items_unloaded": [],
            "journey_time": -1,
            "latitude": 35.9028866,
            "location_id": "home",
            "locked": false,
            "longitude": -84.1482036,
            "marker-color": "#ff0000",
            "marker-size": "small",
            "marker-symbol": "beer",
            "name": "Home",
            "order_id": "NA",
            "order_ids_dropped_off": [],
            "order_index": -1,
            "parent": "route_0",
            "position_in_route": 0,
            "priority": -1,
            "service_start_time": "2020-01-24T17:00:00-05:00",
            "service_time": 0,
            "start": 1579903200000,
            "stop_type": "start_location",
            "title": "route 0 stop 0",
            "travel_time_from_prev": 0,
            "travel_time_from_prev_no_traffic": 0,
            "travel_time_to_next": 1525,
            "travel_time_to_next_no_traffic": 1295
        },
        "type": "Feature"
    }, {
        "geometry": {
            "coordinates": [-83.90311, 35.95975],
            "type": "Point"
        },
        "id": 1,
        "properties": {
            "abs_arrival_time": 1579904725,
            "abs_departure_time": 1579910125,
            "abs_service_time_start": 1579904725,
            "address": "1130 Sevier Ave, Knoxville, TN 37920, United States",
            "appointment": false,
            "arrival_time": "2020-01-24T17:25:25-05:00",
            "color": "#ff0000",
            "departure_time": "2020-01-24T18:55:25-05:00",
            "description": "alliance brewing co",
            "distance_from_prev": 27743.6,
            "distance_to_next": 599.1,
            "dropoff_position_in_route": -1,
            "end": 1579910125000,
            "id": "route_0_stop_1",
            "idle_time": 0,
            "items_delivered": [],
            "items_picked_up": [],
            "items_replenished": [],
            "items_unloaded": [],
            "journey_time": -1,
            "latitude": 35.95975,
            "location_id": "alliance brewing co",
            "locked": false,
            "longitude": -83.90311,
            "marker-color": "#ff0000",
            "marker-size": "small",
            "marker-symbol": "beer",
            "name": "Alliance Brewing Co",
            "order_id": "alliance brewing co",
            "order_ids_dropped_off": [],
            "order_index": 13,
            "parent": "route_0",
            "position_in_route": 1,
            "priority": 0,
            "service_start_time": "2020-01-24T17:25:25-05:00",
            "service_time": 5400,
            "start": 1579904725000,
            "stop_type": "order",
            "title": "route 0 stop 1",
            "travel_time_from_prev": 1525,
            "travel_time_from_prev_no_traffic": 1295,
            "travel_time_to_next": 58,
            "travel_time_to_next_no_traffic": 47
        },
        "type": "Feature"
    }, {
        "geometry": {
            "coordinates": [-83.89669, 35.96062],
            "type": "Point"
        },
        "id": 2,
        "properties": {
            "abs_arrival_time": 1579910183,
            "abs_departure_time": 1579915583,
            "abs_service_time_start": 1579910183,
            "address": "1532 Island Home Ave, Knoxville, TN 37920, United States",
            "appointment": false,
            "arrival_time": "2020-01-24T18:56:23-05:00",
            "color": "#ff0000",
            "departure_time": "2020-01-24T20:26:23-05:00",
            "description": "printshop beer co",
            "distance_from_prev": 599.1,
            "distance_to_next": 3542.7,
            "dropoff_position_in_route": -1,
            "end": 1579915583000,
            "id": "route_0_stop_2",
            "idle_time": 0,
            "items_delivered": [],
            "items_picked_up": [],
            "items_replenished": [],
            "items_unloaded": [],
            "journey_time": -1,
            "latitude": 35.96062,
            "location_id": "printshop beer co",
            "locked": false,
            "longitude": -83.89669,
            "marker-color": "#ff0000",
            "marker-size": "small",
            "marker-symbol": "beer",
            "name": "Printshop Beer Co",
            "order_id": "printshop beer co",
            "order_ids_dropped_off": [],
            "order_index": 20,
            "parent": "route_0",
            "position_in_route": 2,
            "priority": 0,
            "service_start_time": "2020-01-24T18:56:23-05:00",
            "service_time": 5400,
            "start": 1579910183000,
            "stop_type": "order",
            "title": "route 0 stop 2",
            "travel_time_from_prev": 58,
            "travel_time_from_prev_no_traffic": 47,
            "travel_time_to_next": 376,
            "travel_time_to_next_no_traffic": 375
        },
        "type": "Feature"
    }, {
        "geometry": {
            "coordinates": [-83.92441, 35.96658],
            "type": "Point"
        },
        "id": 3,
        "properties": {
            "abs_arrival_time": 1579915959,
            "abs_departure_time": 1579921359,
            "abs_service_time_start": 1579915959,
            "address": "100 Broadway SW, Knoxville, TN 37902, United States",
            "appointment": false,
            "arrival_time": "2020-01-24T20:32:39-05:00",
            "color": "#ff0000",
            "departure_time": "2020-01-24T22:02:39-05:00",
            "description": "balter beerworks",
            "distance_from_prev": 3542.7,
            "distance_to_next": 4433.5,
            "dropoff_position_in_route": -1,
            "end": 1579921359000,
            "id": "route_0_stop_3",
            "idle_time": 0,
            "items_delivered": [],
            "items_picked_up": [],
            "items_replenished": [],
            "items_unloaded": [],
            "journey_time": -1,
            "latitude": 35.96658,
            "location_id": "balter beerworks",
            "locked": false,
            "longitude": -83.92441,
            "marker-color": "#ff0000",
            "marker-size": "small",
            "marker-symbol": "beer",
            "name": "Balter Beerworks",
            "order_id": "balter beerworks",
            "order_ids_dropped_off": [],
            "order_index": 14,
            "parent": "route_0",
            "position_in_route": 3,
            "priority": 0,
            "service_start_time": "2020-01-24T20:32:39-05:00",
            "service_time": 5400,
            "start": 1579915959000,
            "stop_type": "order",
            "title": "route 0 stop 3",
            "travel_time_from_prev": 376,
            "travel_time_from_prev_no_traffic": 375,
            "travel_time_to_next": 361,
            "travel_time_to_next_no_traffic": 356
        },
        "type": "Feature"
    }, {
        "geometry": {
            "coordinates": [-83.96377, 35.95316],
            "type": "Point"
        },
        "id": 4,
        "properties": {
            "abs_arrival_time": 1579921720,
            "abs_departure_time": 1579927120,
            "abs_service_time_start": 1579921720,
            "address": "2924 Sutherland Ave, Knoxville, TN 37919, United States",
            "appointment": false,
            "arrival_time": "2020-01-24T22:08:40-05:00",
            "color": "#ff0000",
            "departure_time": "2020-01-24T23:38:40-05:00",
            "description": "albright grove brewing company",
            "distance_from_prev": 4433.5,
            "distance_to_next": 20564,
            "dropoff_position_in_route": -1,
            "end": 1579927120000,
            "id": "route_0_stop_4",
            "idle_time": 0,
            "items_delivered": [],
            "items_picked_up": [],
            "items_replenished": [],
            "items_unloaded": [],
            "journey_time": -1,
            "latitude": 35.95316,
            "location_id": "albright grove brewing company",
            "locked": false,
            "longitude": -83.96377,
            "marker-color": "#ff0000",
            "marker-size": "small",
            "marker-symbol": "beer",
            "name": "Albright Grove Brewing Company",
            "order_id": "albright grove brewing company",
            "order_ids_dropped_off": [],
            "order_index": 1,
            "parent": "route_0",
            "position_in_route": 4,
            "priority": 0,
            "service_start_time": "2020-01-24T22:08:40-05:00",
            "service_time": 5400,
            "start": 1579921720000,
            "stop_type": "order",
            "title": "route 0 stop 4",
            "travel_time_from_prev": 361,
            "travel_time_from_prev_no_traffic": 356,
            "travel_time_to_next": 1112,
            "travel_time_to_next_no_traffic": 1107
        },
        "type": "Feature"
    }, {
        "geometry": {
            "coordinates": [-84.148204, 35.902887],
            "type": "Point"
        },
        "id": 5,
        "properties": {
            "abs_arrival_time": 1579928232,
            "abs_departure_time": 1579928232,
            "abs_service_time_start": 1579928232,
            "address": "10936 Parkside Dr, Knoxville, TN 37934, United States",
            "appointment": false,
            "arrival_time": "2020-01-24T23:57:12-05:00",
            "color": "#ff0000",
            "departure_time": "2020-01-24T23:57:12-05:00",
            "description": "home",
            "distance_from_prev": 20564,
            "distance_to_next": 0,
            "dropoff_position_in_route": -1,
            "end": 1579928232000,
            "id": "route_0_stop_5",
            "idle_time": 0,
            "items_delivered": [],
            "items_picked_up": [],
            "items_replenished": [],
            "items_unloaded": [],
            "journey_time": -1,
            "latitude": 35.9028866,
            "location_id": "home",
            "locked": false,
            "longitude": -84.1482036,
            "marker-color": "#ff0000",
            "marker-size": "small",
            "marker-symbol": "beer",
            "name": "Home",
            "order_id": "NA",
            "order_ids_dropped_off": [],
            "order_index": -1,
            "parent": "route_0",
            "position_in_route": 5,
            "priority": -1,
            "service_start_time": "2020-01-24T23:57:12-05:00",
            "service_time": 0,
            "start": 1579928232000,
            "stop_type": "end_location",
            "title": "route 0 stop 5",
            "travel_time_from_prev": 1112,
            "travel_time_from_prev_no_traffic": 1107,
            "travel_time_to_next": 0,
            "travel_time_to_next_no_traffic": 0
        },
        "type": "Feature"
    }],
    "metadata": {
        "abs_route_end_time": 1579928232,
        "abs_route_start_time": 1579903200,
        "abs_shift_end_time": 1579928400,
        "abs_shift_start_time": 1579903200,
        "average_bearing": "ENE",
        "breaks": [],
        "color": "#ff0000",
        "floating_breaks": [],
        "id": "route_0",
        "itinerary": [{
            "action": "driving to arrival w./ no break",
            "time_from": "2020-01-24T17:00:00-05:00",
            "time_to": "2020-01-24T17:25:25-05:00"
        }, {
            "action": "service order alliance brewing co",
            "time_from": "2020-01-24T17:25:25-05:00",
            "time_to": "2020-01-24T18:55:25-05:00"
        }, {
            "action": "driving to arrival w./ no break",
            "time_from": "2020-01-24T18:55:25-05:00",
            "time_to": "2020-01-24T18:56:23-05:00"
        }, {
            "action": "service order printshop beer co",
            "time_from": "2020-01-24T18:56:23-05:00",
            "time_to": "2020-01-24T20:26:23-05:00"
        }, {
            "action": "driving to arrival w./ no break",
            "time_from": "2020-01-24T20:26:23-05:00",
            "time_to": "2020-01-24T20:32:39-05:00"
        }, {
            "action": "service order balter beerworks",
            "time_from": "2020-01-24T20:32:39-05:00",
            "time_to": "2020-01-24T22:02:39-05:00"
        }, {
            "action": "driving to arrival w./ no break",
            "time_from": "2020-01-24T22:02:39-05:00",
            "time_to": "2020-01-24T22:08:40-05:00"
        }, {
            "action": "service order albright grove brewing company",
            "time_from": "2020-01-24T22:08:40-05:00",
            "time_to": "2020-01-24T23:38:40-05:00"
        }, {
            "action": "driving to arrival w./ no break",
            "time_from": "2020-01-24T23:38:40-05:00",
            "time_to": "2020-01-24T23:57:12-05:00"
        }],
        "max_num_items_in_vehicle": 0,
        "max_segment_length": 27743.6,
        "max_segment_time": 1525,
        "max_volume_in_vehicle": 0,
        "max_weight_in_vehicle": 0,
        "metrics": [],
        "name": "Route 0",
        "num_breaks": 0,
        "num_floating_breaks": 0,
        "num_soft_breaks": 0,
        "num_stops": 6,
        "route_distance": 56882.899999999994,
        "route_end_location_id": "home",
        "route_end_time": "2020-01-24T23:57:12-05:00",
        "route_id": "Vehicle:uber-Shift:crawl_shift_0",
        "route_start_location_id": "home",
        "route_start_time": "2020-01-24T17:00:00-05:00",
        "route_traffic_time": 252,
        "route_travel_time": 3432,
        "route_working_time": 25032,
        "shift_end_time": "2020-01-25T00:00:00",
        "shift_id": "crawl_shift_0",
        "shift_start_time": "2020-01-24T17:00:00",
        "slack_time": 168,
        "soft_breaks": [],
        "start_items": [],
        "total_break_time": 0,
        "total_floating_break_time": 0,
        "total_idle_time": 0,
        "total_items_delivered": [],
        "total_items_picked_up": [],
        "total_soft_break_time": 0,
        "vehicle_id": "uber"
    },
    "type": "FeatureCollection"
};

// Parse stop data into series
var stopData = routeData.features.map(function (feature, i) {
    return feature.properties;
});
stopData.push(routeData.metadata);

var series = [{
    name: "Route 0",
    data: stopData
}];

console.log(series);

Highcharts.theme = {
    "colors": ["#FF2700", "#008FD5", "#77AB43", "#636464", "#C4C4C4"],
    "chart": {
        "backgroundColor": "#F0F0F0",
        "plotBorderColor": "#606063",
        "style": {
            "fontFamily": "Roboto",
            "color": "#3C3C3C"
        }
    },
    "title": {
        "align": "left",
        "style": {
            "fontWeight": "bold"
        }
    },
    "subtitle": {
        "align": "left"
    },
    "xAxis": {
        "gridLineWidth": 1,
        "gridLineColor": "#D7D7D8",
        "labels": {
            "style": {
                "fontFamily": "Unica One, sans-serif",
                "color": "#3C3C3C"
            }
        },
        "lineColor": "#D7D7D8",
        "minorGridLineColor": "#505053",
        "tickColor": "#D7D7D8",
        "tickWidth": 1,
        "title": {
            "style": {
                "color": "#A0A0A3"
            }
        }
    },
    "yAxis": {
        "gridLineColor": "#D7D7D8",
        "labels": {
            "style": {
                "fontFamily": "Unica One, sans-serif",
                "color": "#3C3C3C"
            }
        },
        "lineColor": "#D7D7D8",
        "minorGridLineColor": "#505053",
        "tickColor": "#D7D7D8",
        "tickWidth": 1,
        "title": {
            "style": {
                "color": "#A0A0A3"
            }
        }
    },
    "tooltip": {
        "backgroundColor": "rgba(0, 0, 0, 0.85)",
        "style": {
            "color": "#F0F0F0"
        }
    },
    "legend": {
        "itemStyle": {
            "color": "#3C3C3C"
        },
        "itemHiddenStyle": {
            "color": "#606063"
        }
    },
    "credits": {
        "style": {
            "color": "#666"
        }
    },
    "labels": {
        "style": {
            "color": "#D7D7D8"
        }
    },
    "legendBackgroundColor": "rgba(0, 0, 0, 0.5)",
    "background2": "#505053",
    "dataLabelsColor": "#B0B0B3",
    "textColor": "#C0C0C0",
    "contrastTextColor": "#F0F0F3",
    "maskColor": "rgba(255,255,255,0.3)"
};
Highcharts.setOptions(Highcharts.theme);

var defined = Highcharts.defined;
var reduce = Highcharts.reduce;
Highcharts.ganttChart('gantt-container', {
    navigator: {
        enabled: true,
        liveRedraw: true,
        series: {
            type: 'gantt',
            pointPlacement: 0.5,
            pointPadding: 0.25
        },
        yAxis: {
            min: 0,
            max: 3,
            reversed: true,
            categories: []
        }
    },
    scrollbar: {
        enabled: true
    },
    rangeSelector: {
        enabled: true,
        selected: 0
    },
    series: series,
    tooltip: {
        pointFormatter: function () {
            var point = this;
            var lines = [{
                title: 'Arrive',
                value: new Date(point.arrival_time).toLocaleString()
            }, {
                title: 'Depart',
                value: new Date(point.departure_time).toLocaleString()
            }];
            return reduce(lines, function (str, line) {
                var s = '',
                    style = (
                        defined(line.style) ? line.style : 'font-size: 1.0em;'
                    );
                if (line.visible !== false) {
                    s = (
                        '<span style="' + style + '">' +
                        (defined(line.title) ? line.title + ': ' : '') +
                        (defined(line.value) ? line.value : '') +
                        '</span><br/>'
                    );
                }
                return str + s;
            }, '');
        }
    },
    title: {
        text: 'Knoxville Ale Trail Route'
    },
    xAxis: {
        currentDateIndicator: true
    }
});